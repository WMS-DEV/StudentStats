import { forwardRef } from "react";
import * as S from "./styles";
import { useTranslation } from "react-i18next";
import { useAuth } from "../../../../../AuthorizationProvider";

const GRADES_FILENAME = "grades.csv";

export const GradesDownloadIcon = forwardRef(({ onClick }, ref) => {
  const { t } = useTranslation();
  const { isDataLoaded } = useAuth();
  return (
    <S.GradesDownloadAnchor ref={ref} download={GRADES_FILENAME} data-desc={t('menuTipGrades')} className={!isDataLoaded ? '': 'disabled'}>
      <S.GradesDownloadIcon viewBox="0 0 32 32" onClick={onClick}>
      <g id="surface1">
          <path d="M 19.304688 4.921875 L 18.226562 7.886719 L 20.410156 7.886719 Z M 19.304688 4.921875 "/>
          <path d="M 26.765625 32 C 27.261719 32 27.664062 31.597656 27.664062 31.105469 L 27.664062 0.894531 C 27.664062 0.402344 27.261719 0 26.765625 0 L 5.234375 0 C 4.738281 0 4.335938 0.402344 4.335938 0.894531 L 4.335938 25.984375 L 8.382812 25.984375 C 9.464844 25.984375 10.351562 26.871094 10.351562 27.957031 L 10.351562 32 Z M 15.289062 10.644531 L 18.152344 3.285156 C 18.285156 2.941406 18.617188 2.714844 18.988281 2.714844 L 19.667969 2.714844 C 20.03125 2.714844 20.363281 2.9375 20.5 3.277344 L 23.449219 10.640625 C 23.589844 10.996094 23.332031 11.378906 22.953125 11.378906 L 22.363281 11.378906 C 21.996094 11.378906 21.664062 11.148438 21.53125 10.804688 L 21.003906 9.4375 L 17.660156 9.4375 L 17.167969 10.792969 C 17.039062 11.148438 16.703125 11.382812 16.324219 11.382812 L 15.789062 11.382812 C 15.410156 11.378906 15.152344 11 15.289062 10.644531 Z M 9.1875 13.660156 L 22.8125 13.660156 C 23.308594 13.660156 23.707031 14.0625 23.707031 14.554688 C 23.707031 15.050781 23.308594 15.453125 22.8125 15.453125 L 9.1875 15.453125 C 8.691406 15.453125 8.292969 15.050781 8.292969 14.554688 C 8.292969 14.0625 8.691406 13.660156 9.1875 13.660156 Z M 9.1875 17.675781 L 22.8125 17.675781 C 23.308594 17.675781 23.707031 18.078125 23.707031 18.570312 C 23.707031 19.066406 23.308594 19.46875 22.8125 19.46875 L 9.1875 19.46875 C 8.691406 19.46875 8.292969 19.066406 8.292969 18.570312 C 8.292969 18.078125 8.691406 17.675781 9.1875 17.675781 Z M 9.1875 23.484375 C 8.691406 23.484375 8.292969 23.082031 8.292969 22.585938 C 8.292969 22.09375 8.691406 21.691406 9.1875 21.691406 L 22.8125 21.691406 C 23.308594 21.691406 23.707031 22.09375 23.707031 22.585938 C 23.707031 23.082031 23.308594 23.484375 22.8125 23.484375 Z M 9.1875 23.484375 "/>
          <path d="M 4.335938 27.0625 L 9.277344 32 L 9.277344 27.957031 C 9.277344 27.460938 8.875 27.0625 8.382812 27.0625 Z M 4.335938 27.0625 "/>
      </g>
      </S.GradesDownloadIcon>
    </S.GradesDownloadAnchor>
  )
});
